<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>To-Do List Application</title>
		<style>
			.btn_div {display: flex; justify-content: center; margin-top: 20px; padding: 30px;}
			.btn {padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 5px;}
			.btn-clr {padding: 10px 20px; background-color: #FFCCCB; color: white; border: none; border-radius: 5px;}
			.txt {padding: 10px 20px; border-radius: 5px;}
		</style>
		<script>
			window.onload = function() {
		
				for (let i = 0; i < localStorage.length; i++) {
					
					const key = localStorage.key(i); 
					const value = localStorage.getItem(key); 
										
					const radiobutton = document.createElement('input');
					radiobutton.type = 'radio';
					radiobutton.id = key;
					radiobutton.name = 'tasklist';
		
					const label = document.createElement('label');
					const task = document.getElementById('task');
					label.textContent = value;
					task.value = "";
		
					const tasks = document.getElementById('tasksContainer');
					tasksContainer.appendChild(radiobutton);
					tasksContainer.appendChild(label);
					tasksContainer.appendChild(document.createElement('br')); 
					tasksContainer.appendChild(document.createElement('br'));
				}
			};
			
			function clearStorage() {
				
				localStorage.clear();
				location.reload();
			}
		
			function addTask() {
		
				const radiobutton = document.createElement('input');
				radiobutton.type = 'radio';		
				radiobutton.name = 'tasklist';
		
				const label = document.createElement('label');
				const task = document.getElementById('task');
				label.textContent = task.value;
				const timestamp = Date.now();				
				localStorage.setItem("newt"+timestamp+task.value, task.value);
				
				radiobutton.id = "newt"+timestamp+task.value;
				task.value = "";
		
				const tasks = document.getElementById('tasksContainer');
				tasksContainer.appendChild(radiobutton);
				tasksContainer.appendChild(label);
				tasksContainer.appendChild(document.createElement('br'));
				tasksContainer.appendChild(document.createElement('br'));
				
				deleteTask(); //Useful only on Delete
			}
			
			function deleteTask() {	
				
				const selectedRadio = document.querySelector('input[name="tasklist"]:checked');
				if (selectedRadio) {
				
				  localStorage.removeItem(selectedRadio.id);
				  location.reload();
				} 
			}
			
			function editTask() {
				
				const selectedRadio = document.querySelector('input[name="tasklist"]:checked');
				
				if (selectedRadio) {		  
				  
				  const task = document.getElementById('task');
				  task.value = localStorage.getItem(selectedRadio.id);
				  localStorage.setItem("newt"+timestamp+task.value, task.value);
				  localStorage.removeItem(selectedRadio.id);
				} 
			}
			
		</script>
		<style>
		</style>		
	</head>
	<body>
		<h3 style="display: flex; justify-content: center;">To-Do Application</h3>
		<br />
		<div style="display: flex; justify-content: center;">
			<input type="text" class="txt" id="task" name="task" placeHolder="Enter Task" />&nbsp;&nbsp;
			<input type="button" class="btn" name="addtask" value="Add / Update" onclick="addTask()" />&nbsp;&nbsp;
			<input type="button" class="btn-clr" name="clearStorage" value="Clear Storage" onclick="clearStorage()" />
		</div>
		<br />
		
		<div style="display: flex; justify-content: center;">
			<div  id="tasksContainer"></div>
		</div>
		<br />
		
		<div style="display: flex; justify-content: center;">
			<input type="button" class="btn" name="addtask" value="Delete" onclick="deleteTask()" />&nbsp;&nbsp;
			<input type="button" class="btn" name="addtask" value="Edit" onclick="editTask()" />
		</div>		
	</body>
</html>7


